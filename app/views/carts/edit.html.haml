%main.container.general-main-wrap
  %h1.general-title-margin= t('.title')


  - if current_order.items_count.zero?

    .col-md-12.mb-40
      .center-block.general-text-align.center
        %p.h3.in-grey-600.mb-60= t('.empty_message')
        = link_to t('back_to_store'), books_path, class: 'btn btn-default mb-20'

  - else

    = simple_form_for current_order, url: cart_path do |field|

      .visible-xs
        = field.simple_fields_for :order_items do |item_field|
          = render 'order_items/order_item', order_item: item_field.object, field: item_field

      .hidden-xs
        = render 'order_items/table', field: field

      .general-order-wrap
        .row
          .col-sm-4
            .input-group.general-input-group
              = field.simple_fields_for :coupon, @coupon_form do |coupon|
                = coupon.input :code
            .mb-30
              = field.submit t('.update_cart'), class: 'btn btn-primary mb-15 res-block'

          .col-sm-8
            .res-mr-200.text-center.general-text-right
              = render 'orders/result_panel', components: [:coupon], right: true

            = link_to t('.checkout'), checkout_path(I18n.locale, :address),
              class: 'button btn btn-default mb-20 visible-xs-inline-block'

      .hidden-xs.center-block.general-text-align
        = link_to t('.checkout'), checkout_path(I18n.locale, :address),
          class: 'button btn btn-default mb-20'
